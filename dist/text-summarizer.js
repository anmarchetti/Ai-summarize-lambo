/*! For license information please see text-summarizer.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.TextSummarizer=t(require("react")):e.TextSummarizer=t(e.React)}(this,e=>(()=>{"use strict";var t={156:t=>{t.exports=e}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};o.d(n,{default:()=>m});var i=o(156);function a(){var e,t,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function i(r,o,n,i){var a=o&&o.prototype instanceof u?o:u,s=Object.create(a.prototype);return l(s,"_invoke",function(r,o,n){var i,a,l,u=0,s=n||[],d=!1,p={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return i=t,a=0,l=e,p.n=r,c}};function m(r,o){for(a=r,l=o,t=0;!d&&u&&!n&&t<s.length;t++){var n,i=s[t],m=p.p,g=i[2];r>3?(n=g===o)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=m&&((n=r<2&&m<i[1])?(a=0,p.v=o,p.n=i[1]):m<g&&(n=r<3||i[0]>o||o>g)&&(i[4]=r,i[5]=o,p.n=g,a=0))}if(n||r>1)return c;throw d=!0,o}return function(n,s,g){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,g),a=s,l=g;(t=a<2?e:l)||!d;){i||(a?a<3?(a>1&&(p.n=-1),m(a,l)):p.n=l:p.v=l);try{if(u=2,i){if(a||(n="next"),t=i[n]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+n+"' method"),a=1);i=e}else if((t=(d=p.n<0)?l:r.call(o,p))!==c)break}catch(t){i=e,a=1,l=t}finally{u=1}}return{value:t,done:d}}}(r,n,i),!0),s}var c={};function u(){}function s(){}function d(){}t=Object.getPrototypeOf;var p=[][o]?t(t([][o]())):(l(t={},o,function(){return this}),t),m=d.prototype=u.prototype=Object.create(p);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,n,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=d,l(m,"constructor",d),l(d,"constructor",s),s.displayName="GeneratorFunction",l(d,n,"GeneratorFunction"),l(m),l(m,n,"Generator"),l(m,o,function(){return this}),l(m,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:g}})()}function l(e,t,r,o){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}l=function(e,t,r,o){function i(t,r){l(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},l(e,t,r,o)}function c(e,t,r,o,n,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(o,n)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function a(e){c(i,o,n,a,l,"next",e)}function l(e){c(i,o,n,a,l,"throw",e)}a(void 0)})}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=i.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){u=!0,n=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var p=function(e){var t=e.option,r=e.isSelected,o=void 0!==r&&r,n=e.onClick,i=e.children,a=e.isActionButton,l=void 0!==a&&a,c=e.lightBackground,u=void 0!==c&&c,s=u?{background:o?"rgba(0,0,0,0.08)":"rgba(0,0,0,0.03)",border:"1px solid rgba(0,0,0,0.1)",color:"#333",hoverBackground:"rgba(0,0,0,0.08)",hoverBorderColor:"rgba(0,0,0,0.15)"}:{background:o?"rgba(255,255,255,0.15)":"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",hoverBackground:"rgba(255,255,255,0.15)",hoverBorderColor:"rgba(255,255,255,0.2)"};return React.createElement("div",{style:{flex:"1",minWidth:"120px",padding:"12px 16px",background:s.background,border:s.border,borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center",color:s.color},onClick:n,onMouseEnter:function(e){e.target.style.background=s.hoverBackground,e.target.style.borderColor=s.hoverBorderColor},onMouseLeave:function(e){o?(e.target.style.background=u?"rgba(0,0,0,0.08)":"rgba(255,255,255,0.15)",e.target.style.borderColor=u?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.1)"):(e.target.style.background=u?"rgba(0,0,0,0.03)":"rgba(255,255,255,0.05)",e.target.style.borderColor=u?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.1)")}},l?React.createElement("div",{style:{fontWeight:"500",fontSize:"14px"}},i):React.createElement(React.Fragment,null,React.createElement("div",{style:{fontWeight:"500",fontSize:"14px",marginBottom:"2px"}},t.label),React.createElement("div",{style:{fontSize:"11px",opacity:"0.7"}},t.description)))};const m=function(e){var t=e.sourceText,r=void 0===t?"":t,o=s((0,i.useState)("medio"),2),n=o[0],l=o[1],c=s((0,i.useState)("giornalista"),2),d=c[0],m=c[1],g=s((0,i.useState)(""),2),f=g[0],b=g[1],v=s((0,i.useState)(!1),2),y=v[0],h=v[1],x=function(){return"undefined"!=typeof process&&process.env&&process.env.REACT_APP_OPENAI_API_KEY?{endpoint:"https://api.openai.com/v1/chat/completions",apiKey:process.env.REACT_APP_OPENAI_API_KEY,model:"gpt-3.5-turbo"}:null},E=function(e,t,r){return"Riassumi il seguente testo in ".concat({corta:"circa 50 parole",medio:"circa 150 parole",lungo:"circa 300 parole"}[t],". ").concat({giornalista:"Usa un tono professionale e formale, adatto per un articolo giornalistico. Mantieni obiettività e precisione.",social:"Usa un tono coinvolgente e dinamico, adatto per i social media. Puoi usare emoji e un linguaggio più diretto e accattivante."}[r],"\n\nTesto da riassumere:\n").concat(e,"\n\nRiassunto:")},R=function(){var e=u(a().m(function e(t,r,o,n){var i,l;return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch(n.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.apiKey)},body:JSON.stringify({model:n.model,messages:[{role:"user",content:E(t,r,o)}],max_tokens:"lungo"===r?400:"medio"===r?200:80,temperature:"social"===o?.8:.3})});case 1:if((i=e.v).ok){e.n=2;break}throw new Error("OpenAI API error: ".concat(i.status));case 2:return e.n=3,i.json();case 3:return l=e.v,e.a(2,l.choices[0].message.content.trim())}},e)}));return function(t,r,o,n){return e.apply(this,arguments)}}(),k=function(){var e=u(a().m(function e(){var t,o,i,l,c,u,s;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r.trim()){e.n=1;break}return alert("Nessun testo disponibile per il riassunto"),e.a(2);case 1:if(h(!0),e.p=2,t="",!(o=x())){e.n=4;break}return e.n=3,R(r,n,d,o);case 3:t=e.v,e.n=6;break;case 4:return e.n=5,new Promise(function(e){return setTimeout(e,2e3)});case 5:i={"corta-giornalista":"Lamborghini presenta Temerario, supersportiva ibrida con powertrain V8 biturbo da 920 CV. La vettura completa l'elettrificazione della gamma HPEV, raggiungendo 340 km/h e accelerando 0-100 km/h in 2,7 secondi.","corta-social":"🏎️ Wow! La nuova Lamborghini Temerario è PAZZESCA! 920 CV di potenza ibrida, da 0 a 100 in 2,7 secondi! 🔥 #Lamborghini #Temerario #Supercar","medio-giornalista":"Automobili Lamborghini presenta Temerario, seconda vettura HPEV dopo Revuelto. La supersportiva ibrida combina V8 biturbo e tre motori elettrici per 920 CV totali. Prestazioni eccezionali: oltre 340 km/h e 0-100 in 2,7s. Il V8 è il primo di serie a 10.000 giri/min.","medio-social":"🚀 BREAKING: Lamborghini Temerario è qui! 🔥\n\n✨ 920 CV ibridi\n⚡ V8 biturbo + 3 motori elettrici\n🏁 0-100 in 2,7s!\n💨 340+ km/h\n\nIl futuro delle supercar! #LamborghiniTemerario","lungo-giornalista":"La presentazione di Lamborghini Temerario segna un momento storico per Sant'Agata Bolognese. Seconda vettura HPEV dopo Revuelto, completa l'elettrificazione del marchio. Il powertrain rivoluzionario abbina V8 biturbo sviluppato in-house a tre unità elettriche per 920 CV. Primo motore di serie a 10.000 giri/min. Prestazioni da riferimento: oltre 340 km/h, 0-100 in 2,7s. Nuovo telaio in alluminio ad alta resistenza migliora rigidezza e aerodinamica.","lungo-social":"🤯 OMG! Lamborghini Temerario è SPAZIALE! 🚀✨\n\n🔥 POTENZA:\n• 920 CV ibridi!\n• V8 biturbo + 3 motori elettrici\n• Primo a 10.000 rpm!\n\n⚡ PRESTAZIONI:\n• 0-100 in 2,7s\n• 340+ km/h\n• Telaio ultra-tech\n\n🌍 STORIA FATTA:\nPrimo marchio luxury 100% elettrificato! 🏆\n\n#Lamborghini #Temerario #HybridBeast"},l="".concat(n,"-").concat(d),t=i[l]||"Riassunto demo non disponibile per questa combinazione.";case 6:b(t),e.n=8;break;case 7:e.p=7,s=e.v,console.error("Errore nella generazione del riassunto:",s),c={"corta-giornalista":"Lamborghini presenta Temerario, supersportiva ibrida con powertrain V8 biturbo da 920 CV. (Modalità demo - errore API)","corta-social":"🏎️ La nuova Lamborghini Temerario è PAZZESCA! 920 CV di potenza ibrida! 🔥 (Modalità demo - errore API)","medio-giornalista":"Automobili Lamborghini presenta Temerario, supersportiva ibrida con V8 biturbo e tre motori elettrici per 920 CV totali. (Modalità demo - errore API)","medio-social":"🚀 Lamborghini Temerario è qui! 920 CV ibridi, 0-100 in 2,7s! Il futuro delle supercar! (Modalità demo - errore API)","lungo-giornalista":"La presentazione di Lamborghini Temerario segna un momento storico. La supersportiva ibrida abbina V8 biturbo a tre unità elettriche per 920 CV. Prestazioni eccezionali con nuovo telaio in alluminio. (Modalità demo - errore API)","lungo-social":"🤯 Lamborghini Temerario è SPAZIALE! 920 CV ibridi, V8 + 3 motori elettrici, 0-100 in 2,7s! Primo marchio luxury 100% elettrificato! (Modalità demo - errore API)"},u="".concat(n,"-").concat(d),b(c[u]||"Riassunto demo non disponibile.");case 8:return e.p=8,h(!1),e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=u(a().m(function e(){var t;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(f){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,navigator.clipboard.writeText(f);case 2:alert("Testo copiato negli appunti!"),e.n=4;break;case 3:e.p=3,t=e.v,console.error("Errore nella copia:",t),alert("Errore durante la copia del testo");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();return React.createElement("div",null,React.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "}}),React.createElement("div",{style:{maxWidth:"800px",margin:"0 auto",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", sans-serif',background:"#ffffff",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",overflow:"hidden"}},React.createElement("div",{style:{padding:"24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"}},React.createElement("div",{style:{marginBottom:"24px"}},React.createElement("label",{style:{display:"block",fontWeight:"600",marginBottom:"12px",fontSize:"16px"}},"Lunghezza del riassunto:"),React.createElement("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"}},[{value:"corta",label:"Corta",description:"~50 parole"},{value:"medio",label:"Media",description:"~150 parole"},{value:"lungo",label:"Lunga",description:"~300 parole"}].map(function(e){return React.createElement(p,{key:e.value,option:e,isSelected:n===e.value,onClick:function(){return l(e.value)}})}))),React.createElement("div",null,React.createElement("label",{style:{display:"block",fontWeight:"600",marginBottom:"12px",fontSize:"16px"}},"Tipo di audience:"),React.createElement("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"}},[{value:"giornalista",label:"Giornalista",description:"Tono professionale"},{value:"social",label:"Social Media",description:"Tono coinvolgente"}].map(function(e){return React.createElement(p,{key:e.value,option:e,isSelected:d===e.value,onClick:function(){return m(e.value)}})})))),React.createElement("div",{style:{padding:"24px"}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"12px"}},React.createElement("h3",{style:{margin:"0",color:"#333",fontSize:"20px",fontWeight:"600"}},"Riassunto generato"),React.createElement("div",{style:{background:"rgba(0,0,0,0.05)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"6px",cursor:y?"not-allowed":"pointer",fontWeight:"500",fontSize:"14px",minWidth:"140px",opacity:y?.6:1,textAlign:"center",transition:"all 0.2s ease",padding:"12px 24px",color:"#333"},onClick:k,onMouseEnter:function(e){y||(e.target.style.background="rgba(0,0,0,0.08)",e.target.style.borderColor="rgba(0,0,0,0.15)")},onMouseLeave:function(e){y||(e.target.style.background="rgba(0,0,0,0.05)",e.target.style.borderColor="rgba(0,0,0,0.1)")}},y?"Generando...":"Genera Riassunto")),React.createElement("div",{style:{minHeight:"200px",border:"2px solid #e1e5e9",borderRadius:"8px",padding:"20px",marginBottom:"20px",background:"#fafbfc"}},y?React.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"160px",color:"#666"}},React.createElement("div",{style:{width:"40px",height:"40px",border:"4px solid #e1e5e9",borderTop:"4px solid #667eea",borderRadius:"50%",marginBottom:"16px",animation:"spin 1s linear infinite"}}),React.createElement("p",null,"Generazione del riassunto in corso...")):f?React.createElement("div",{style:{lineHeight:"1.6",color:"#333",fontSize:"15px",whiteSpace:"pre-wrap"}},f):React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"160px",color:"#999",fontStyle:"italic",textAlign:"center"}},'Clicca su "Genera Riassunto" per iniziare')),f&&!y&&React.createElement("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",justifyContent:"center"}},React.createElement(p,{onClick:A,isActionButton:!0,lightBackground:!0},"📋 Copia"),React.createElement(p,{onClick:function(){var e=document.createElement("a"),t=new Blob([f],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="riassunto.txt",document.body.appendChild(e),e.click(),document.body.removeChild(e)},isActionButton:!0,lightBackground:!0},"📄 Download TXT"),React.createElement(p,{onClick:k,isActionButton:!0,lightBackground:!0},"🔄 Rigenera")))))};return n.default})());