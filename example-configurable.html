<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Summarizer - Configurazione Flessibile</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .hero {
            text-align: center;
            padding: 40px 20px;
            color: white;
        }
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 700;
        }
        .hero p {
            font-size: 1.1rem;
            margin-bottom: 40px;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -10px 50px rgba(0,0,0,0.1);
            min-height: 70vh;
        }
        .demo-text {
            padding: 40px;
            background: #f8f9fa;
            margin: 40px;
            border-radius: 12px;
            line-height: 1.6;
            color: #333;
        }
        .demo-text h3 {
            color: #667eea;
            margin-bottom: 20px;
        }
        .component-area {
            padding: 0 40px 40px;
        }
        .config-info {
            background: #e7f3ff;
            border-left: 4px solid #007cba;
            padding: 15px;
            margin: 20px 40px;
            border-radius: 4px;
        }
        .config-info h4 {
            margin-top: 0;
            color: #007cba;
        }
        .config-info code {
            background: #f1f3f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Consolas', monospace;
        }
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            .demo-text, .component-area, .config-info {
                margin: 20px;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>üéõÔ∏è Text Summarizer Configurabile</h1>
        <p>Componente puro con configurazione gestita direttamente nell'HTML. Perfetto per integrazioni personalizzate!</p>
    </div>

    <div class="container">

        <div class="demo-text">
            <h3>üìÑ Testo di esempio per il riassunto:</h3>
            <div class="source-content">
                <p><strong>Lamborghini Temerario: autentica fuoriclasse</strong></p>
                
                <p>Automobili Lamborghini presenta Temerario, inedita supersportiva equipaggiata con powertrain ibrido V8 biturbo, che ridefinisce i concetti stessi di performance, piacere di guida e comfort. Temerario √® il secondo modello della gamma Lamborghini High Performance Electrified Vehicle (HPEV) dopo Revuelto e completa l'elettrificazione della gamma di Sant'Agata Bolognese, in seguito al debutto sul mercato di Urus SE.</p>
                
                <p>Protagonista della Monterey Car Week 2024, Temerario si pone come nuovo punto di riferimento nel segmento delle supersportive, grazie a prestazioni da vera fuoriclasse. Il nuovo powertrain ibrido abbina un inedito motore V8 biturbo a tre macchine elettriche, per una potenza complessiva di 920 CV. Il V8 biturbo √® stato progettato e sviluppato ex novo a Sant'Agata Bolognese: primo e unico nella categoria delle supersportive di serie in grado di raggiungere i 10.000 giri/min, d√† al pilota la percezione di una progressione illimitata.</p>
                
                <p>Le prestazioni sono di assoluto rilievo: velocit√† massima superiore ai 340 km/h, scatto da 0 a 100 km/h in soli 2,7 secondi. "Temerario √® una vera fuoriclasse, una vettura straordinaria e innovativa sia dal punto di vista tecnico sia stilistico", commenta Stephan Winkelmann, Chairman & CEO di Automobili Lamborghini. "Ogni nuova Lamborghini deve superare la precedente in performance e allo stesso tempo essere pi√π sostenibile dal punto di vista delle emissioni. Con Temerario completiamo un capitolo fondamentale della nostra strategia di elettrificazione, inclusa nel piano Direzione Cor Tauri, diventando anche il primo marchio luxury nell'automotive a lanciare sul mercato una gamma completamente elettrificata".</p>
                
                <p>Con Temerario Lamborghini raggiunge inoltre nuove vette in termini di efficienza aerodinamica, coniugata a linee e dettagli stilistici che rappresentano un'ulteriore pietra miliare nel design Lamborghini. Completamente nuovo anche il telaio in alluminio, che grazie all'impiego di una lega altoresistenziale e ultraleggera di ultima generazione, incrementa sensibilmente la rigidezza torsionale, contribuendo a una dinamica di guida eccellente.</p>
            </div>
        </div>

        <div class="component-area">
            <div id="text-summarizer-container"></div>
        </div>
    </div>

    <!-- React Dependencies (Development versions for better error messages) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Il componente (con JSX/Babel corretto) -->
    <script src="./text-summarizer.js"></script>
    
    <!-- Configurazione personalizzata -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Inizializzazione Text Summarizer...');
            
            // CONFIGURAZIONE PERSONALIZZABILE
            const config = {
                // Selettori per l'estrazione del testo
                textSelectors: ['.source-content p', '.article-body p', 'article p', '.content p'],
                
                // Container dove renderizzare il componente
                containerId: 'text-summarizer-container',
                
                // Opzioni del componente
                options: {
                    // Testo predefinito (opzionale)
                    sourceText: null,
                    
                    // Callback personalizzati (opzionali)
                    onSummaryGenerated: function(summary, length, audience) {
                        console.log('üìù Riassunto generato:', { summary, length, audience });
                        // Qui puoi aggiungere tracking, analytics, ecc.
                    },
                    
                    onCopySuccess: function(summary) {
                        console.log('üìã Testo copiato con successo');
                        // Personalizza la notifica di copia
                    },
                    
                    onDownload: function(summary) {
                        console.log('üíæ Download avviato');
                        // Personalizza il comportamento di download
                    }
                }
            };
            
            // ESTRAZIONE AUTOMATICA DEL TESTO
            function extractTextFromPage() {
                const texts = [];
                
                config.textSelectors.forEach(selector => {
                    const elements = document.querySelectorAll(selector);
                    elements.forEach(element => {
                        const text = element.textContent.trim();
                        if (text.length > 50) {
                            texts.push(text);
                        }
                    });
                });
                
                return texts.join('\n\n');
            }
            
            // INIZIALIZZAZIONE DEL COMPONENTE
            function initTextSummarizer() {
                const container = document.getElementById(config.containerId);
                
                if (!container) {
                    console.error('‚ùå Container non trovato:', config.containerId);
                    return;
                }
                
                // Estrai il testo se non fornito
                const sourceText = config.options.sourceText || extractTextFromPage();
                
                if (!sourceText) {
                    console.warn('‚ö†Ô∏è Nessun testo trovato per il riassunto');
                    return;
                }
                
                console.log('‚úÖ Testo estratto:', sourceText.substring(0, 100) + '...');
                
                // Crea e renderizza il componente
                const root = ReactDOM.createRoot(container);
                const element = React.createElement(TextSummarizer, {
                    sourceText: sourceText
                });
                
                root.render(element);
                console.log('‚úÖ Text Summarizer inizializzato con successo!');

            }
            
            // VERIFICA DIPENDENZE E INIZIALIZZA
            if (typeof React === 'undefined' || typeof ReactDOM === 'undefined') {
                console.error('‚ùå React o ReactDOM non disponibili');
                return;
            }
            
            console.log('üîç Debug - TextSummarizer disponibile:', typeof TextSummarizer);
            console.log('üîç Debug - TextSummarizer:', TextSummarizer);
            
            if (typeof TextSummarizer === 'undefined') {
                console.error('‚ùå TextSummarizer non disponibile');
                return;
            }
            
            // Inizializza il componente
            initTextSummarizer();
        });
    </script>
</body>
</html>